{% extends "base.html" %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center py-12">
  <div class="w-full max-w-md px-4">
    <div class="card-tech" data-aos="fade-up">
      <!-- 标题 -->
      <div class="text-center mb-8">
        <a href="/" class="inline-block mb-4">
          {% if company.logo %}
            <img src="{{ company.logo }}" alt="{{ company.name }}" class="h-10 mx-auto">
          {% else %}
            <span class="text-2xl font-bold text-primary">{{ company.name |default:"企业官网" }}</span>
          {% endif %}
        </a>
        <h1 class="text-2xl font-bold">创建账号</h1>
        <p class="text-secondary mt-2">注册后即可享受更多服务</p>
      </div>

      <!-- 错误信息 -->
      {% if error and error %}
        <div class="bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6 text-sm">
          {{ error }}
        </div>
      {% endif %}

      <!-- 注册表单 -->
      <form action="/register" method="POST" data-form class="space-y-6">
        <div class="form-group">
          <label for="username" class="form-label form-label-required">用户名</label>
          <input
            type="text"
            id="username"
            name="username"
            value="{{ username |default:'' }}"
            required
            minlength="3"
            maxlength="20"
            pattern="^[a-zA-Z0-9_]+$"
            class="form-input"
            placeholder="3-20位字母、数字或下划线"
            data-error-pattern="用户名只能包含字母、数字和下划线"
          >
        </div>

        <div class="form-group">
          <label for="email" class="form-label form-label-required">电子邮箱</label>
          <input
            type="email"
            id="email"
            name="email"
            value="{{ email |default:'' }}"
            required
            class="form-input"
            placeholder="请输入邮箱地址"
          >
        </div>

        <div class="form-group">
          <label for="password" class="form-label form-label-required">密码</label>
          <input
            type="password"
            id="password"
            name="password"
            required
            minlength="6"
            class="form-input"
            placeholder="至少6个字符"
          >
        </div>

        <div class="form-group">
          <label for="password_confirm" class="form-label form-label-required">确认密码</label>
          <input
            type="password"
            id="password_confirm"
            name="password_confirm"
            required
            class="form-input"
            placeholder="请再次输入密码"
            data-validate-confirm="password"
          >
        </div>

        <div class="flex items-start gap-2">
          <input type="checkbox" id="agree" name="agree" required class="form-checkbox mt-1">
          <label for="agree" class="text-sm text-secondary">
            我已阅读并同意
            <a href="/terms" class="text-primary hover:underline">服务条款</a>
            和
            <a href="/privacy" class="text-primary hover:underline">隐私政策</a>
          </label>
        </div>

        <button type="submit" class="btn btn-primary w-full">
          立即注册
        </button>
      </form>

      <!-- 登录链接 -->
      <p class="text-center text-secondary mt-6">
        已有账号？
        <a href="/login" class="text-primary hover:underline font-medium">立即登录</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}
