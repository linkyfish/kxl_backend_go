{% extends "base.html" %}

{% block content %}
<!-- 页面头部 -->
<section class="bg-gradient-to-br from-gray-900 via-gray-800 to-emerald-900 py-16 md:py-20">
  <div class="container-custom">
    {% include "components/breadcrumb.html" %}

    <h1 class="text-3xl md:text-4xl font-bold text-white mb-4" data-aos="fade-up">
      联系我们
    </h1>
    <p class="text-lg text-gray-300 max-w-2xl" data-aos="fade-up" data-aos-delay="100">
      有任何问题或需求？请随时与我们联系，我们将尽快回复您
    </p>
  </div>
</section>

<!-- 联系内容 -->
<section class="section">
  <div class="container-custom">
    <div class="grid lg:grid-cols-3 gap-12">
      <!-- 联系方式 -->
      <div class="lg:col-span-1 space-y-6">
        <h2 class="text-2xl font-bold mb-6" data-aos="fade-up">联系方式</h2>

        {% if company.address %}
          <div class="card-tech" data-aos="fade-up" data-aos-delay="100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary-50 text-primary rounded-xl flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">公司地址</h3>
                <p class="text-secondary">{{ company.address }}</p>
              </div>
            </div>
          </div>
        {% endif %}

        {% if company.phone %}
          <div class="card-tech" data-aos="fade-up" data-aos-delay="200">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary-50 text-primary rounded-xl flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">联系电话</h3>
                <a href="tel:{{ company.phone }}" class="text-primary hover:underline">{{ company.phone }}</a>
              </div>
            </div>
          </div>
        {% endif %}

        {% if company.email %}
          <div class="card-tech" data-aos="fade-up" data-aos-delay="300">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary-50 text-primary rounded-xl flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">电子邮箱</h3>
                <a href="mailto:{{ company.email }}" class="text-primary hover:underline">{{ company.email }}</a>
              </div>
            </div>
          </div>
        {% endif %}

        {% if company.working_hours %}
          <div class="card-tech" data-aos="fade-up" data-aos-delay="400">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary-50 text-primary rounded-xl flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold mb-1">工作时间</h3>
                <p class="text-secondary">{{ company.working_hours }}</p>
              </div>
            </div>
          </div>
        {% endif %}
      </div>

      <!-- 留言表单 -->
      <div class="lg:col-span-2">
        <div class="card-tech" data-aos="fade-up">
          <h2 class="text-2xl font-bold mb-6">在线留言</h2>

          <form action="/contact/submit" method="POST" data-form class="space-y-6">
            <div class="grid md:grid-cols-2 gap-6">
              <div class="form-group">
                <label for="name" class="form-label form-label-required">您的姓名</label>
                <input type="text" id="name" name="name" required class="form-input" placeholder="请输入您的姓名">
              </div>

              <div class="form-group">
                <label for="email" class="form-label form-label-required">电子邮箱</label>
                <input type="email" id="email" name="email" required class="form-input" placeholder="请输入您的邮箱">
              </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
              <div class="form-group">
                <label for="phone" class="form-label">联系电话</label>
                <input type="tel" id="phone" name="phone" class="form-input" placeholder="请输入您的电话">
              </div>

              <div class="form-group">
                <label for="company" class="form-label">公司名称</label>
                <input type="text" id="company" name="company" class="form-input" placeholder="请输入公司名称">
              </div>
            </div>

            <div class="form-group">
              <label for="subject" class="form-label">咨询主题</label>
              <select id="subject" name="subject" class="form-select">
                <option value="">请选择咨询主题</option>
                <option value="产品咨询">产品咨询</option>
                <option value="定制开发">定制开发</option>
                <option value="技术支持">技术支持</option>
                <option value="商务合作">商务合作</option>
                <option value="其他">其他</option>
              </select>
            </div>

            <div class="form-group">
              <label for="content" class="form-label form-label-required">留言内容</label>
              <textarea id="content" name="content" rows="5" required class="form-textarea" placeholder="请详细描述您的需求或问题..."></textarea>
            </div>

            <button type="submit" class="btn btn-primary w-full md:w-auto">
              提交留言
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- 地图展示区域 -->
    <div class="mt-12" data-aos="fade-up">
      <h2 class="text-2xl font-bold mb-6">公司位置</h2>
      <div class="card-tech overflow-hidden p-0">
        <div class="aspect-video bg-gray-100 relative">
          {% if company.map_embed and company.map_embed %}
            {{ company.map_embed | safe }}
          {% else %}
            <!-- 默认地图占位符 -->
            <div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200">
              <div class="text-center p-8">
                <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
                <p class="text-secondary mb-4">{{ company.address |default:"公司地址信息" }}</p>
                {% if company.address and company.address %}
                  <a href="https://www.amap.com/search?query={{ company.address }}" target="_blank" rel="noopener" class="btn btn-sm btn-primary">
                    在高德地图中查看
                  </a>
                {% endif %}
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ 常见问题 -->
<section class="section bg-secondary" id="faq">
  <div class="container-custom">
    <div class="text-center mb-12">
      <h2 class="section-title" data-aos="fade-up">常见问题</h2>
      <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
        以下是客户经常咨询的问题，希望能帮到您
      </p>
    </div>

    <div class="max-w-3xl mx-auto space-y-4">
      <div class="card-tech" data-aos="fade-up">
        <details class="group" open>
          <summary class="flex items-center justify-between cursor-pointer list-none">
            <h3 class="font-semibold pr-4">你们提供哪些类型的软件开发服务？</h3>
            <svg class="w-5 h-5 text-primary flex-shrink-0 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="mt-4 text-secondary">我们提供企业级 Web 应用开发、移动 APP 开发、小程序开发、系统集成、技术咨询等全方位的软件开发服务。无论是初创企业还是大型集团，我们都能提供量身定制的解决方案。</p>
        </details>
      </div>

      <div class="card-tech" data-aos="fade-up" data-aos-delay="50">
        <details class="group">
          <summary class="flex items-center justify-between cursor-pointer list-none">
            <h3 class="font-semibold pr-4">项目的开发周期一般是多长？</h3>
            <svg class="w-5 h-5 text-primary flex-shrink-0 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="mt-4 text-secondary">开发周期取决于项目的复杂程度和功能需求。小型项目通常 2-4 周可以完成，中型项目需要 1-3 个月，大型复杂项目可能需要 3-6 个月或更长时间。我们会在需求分析阶段提供详细的时间规划和里程碑计划。</p>
        </details>
      </div>

      <div class="card-tech" data-aos="fade-up" data-aos-delay="100">
        <details class="group">
          <summary class="flex items-center justify-between cursor-pointer list-none">
            <h3 class="font-semibold pr-4">项目完成后提供售后支持吗？</h3>
            <svg class="w-5 h-5 text-primary flex-shrink-0 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="mt-4 text-secondary">是的，我们提供完善的售后服务体系。项目交付后享有免费维护期，期间我们会及时修复发现的问题。同时我们还提供长期的技术支持、系统升级和功能扩展服务，确保您的系统持续稳定运行。</p>
        </details>
      </div>

      <div class="card-tech" data-aos="fade-up" data-aos-delay="150">
        <details class="group">
          <summary class="flex items-center justify-between cursor-pointer list-none">
            <h3 class="font-semibold pr-4">如何开始与你们合作？</h3>
            <svg class="w-5 h-5 text-primary flex-shrink-0 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="mt-4 text-secondary">您可以通过本页面的留言表单、电话或邮件联系我们。我们的商务团队会在 24 小时内与您取得联系，了解您的需求后安排专业的技术顾问进行深入沟通，为您提供最适合的解决方案和报价。</p>
        </details>
      </div>
    </div>
  </div>
</section>

<!-- 社交媒体 -->
<section class="bg-gray-900 py-12">
  <div class="container-custom">
    <div class="flex flex-col md:flex-row items-center justify-between gap-6">
      <div class="text-center md:text-left">
        <h3 class="text-xl font-bold text-white mb-2">关注我们</h3>
        <p class="text-gray-400">在社交媒体上关注我们，获取最新动态</p>
      </div>
      <div class="flex items-center gap-4">
        {% if company.wechat_qr and company.wechat_qr %}
          <div class="group relative">
            <button class="w-12 h-12 rounded-full bg-gray-800 hover:bg-green-600 text-gray-400 hover:text-white flex items-center justify-center transition-all">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348z"/>
              </svg>
            </button>
            <!-- 二维码弹出 -->
            <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-white p-2 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10">
              <img src="{{ company.wechat_qr }}" alt="微信公众号" class="w-32 h-32">
              <p class="text-xs text-center text-secondary mt-1">扫码关注微信公众号</p>
            </div>
          </div>
        {% else %}
          <div class="group relative">
            <button class="w-12 h-12 rounded-full bg-gray-800 hover:bg-green-600 text-gray-400 hover:text-white flex items-center justify-center transition-all">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348z"/>
              </svg>
            </button>
            <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-white p-3 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 whitespace-nowrap">
              <p class="text-sm text-secondary">微信公众号：敬请期待</p>
            </div>
          </div>
        {% endif %}

        {% if company.weibo and company.weibo %}
          <a href="{{ company.weibo }}" target="_blank" rel="noopener" class="w-12 h-12 rounded-full bg-gray-800 hover:bg-red-500 text-gray-400 hover:text-white flex items-center justify-center transition-all">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.739 5.443z"/>
            </svg>
          </a>
        {% endif %}

        {% if company.linkedin and company.linkedin %}
          <a href="{{ company.linkedin }}" target="_blank" rel="noopener" class="w-12 h-12 rounded-full bg-gray-800 hover:bg-blue-600 text-gray-400 hover:text-white flex items-center justify-center transition-all">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
            </svg>
          </a>
        {% endif %}

        <a href="mailto:{{ company.email |default:'contact@example.com' }}" class="w-12 h-12 rounded-full bg-gray-800 hover:bg-primary text-gray-400 hover:text-white flex items-center justify-center transition-all">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
          </svg>
        </a>

        <a href="tel:{{ company.phone |default:'400-000-0000' }}" class="w-12 h-12 rounded-full bg-gray-800 hover:bg-primary text-gray-400 hover:text-white flex items-center justify-center transition-all">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
