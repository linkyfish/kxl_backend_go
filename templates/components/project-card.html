<!-- 项目卡片组件 -->
{# 使用方式: include "components/project-card.html" #}
<!-- 需要传入变量: project -->
<article class="card-project" data-aos="fade-up">
  <!-- 封面图 -->
  <div class="card-project-image">
    {% if project.cover_image %}
      <img
        src="{{ project.cover_image }}"
        alt="{{ project.name }}"
        loading="lazy"
      >
    {% else %}
      <div class="w-full h-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center">
        <svg class="w-16 h-16 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
        </svg>
      </div>
    {% endif %}
  </div>

  <!-- 内容 -->
  <div class="card-project-content">
    <!-- 分类标签 -->
    {% if project.category and project.category %}
      <span class="badge badge-primary mb-2">{{ project.category.name }}</span>
    {% endif %}

    <!-- 标题 -->
    <h3 class="card-project-title">
      <a href="/projects/{{ project.id }}" class="hover:text-primary transition-colors">
        {{ project.name }}
      </a>
    </h3>

    <!-- 简介 -->
    <p class="card-project-desc">
      {{ project.description |default:"" | truncate_text:80 }}
    </p>

    <!-- 标签 -->
    {% if project.tags and project.tags | length > 0 %}
      <div class="flex flex-wrap gap-2 mb-4">
        {% for tag in project.tags | slice:":3" %}
          <span class="text-xs text-tertiary bg-gray-100 px-2 py-1 rounded">
            {{ tag.name }}
          </span>
        {% endfor %}
      </div>
    {% endif %}

    <!-- 底部信息 -->
    <div class="flex items-center justify-between pt-4 border-t border-light">
      <span class="text-sm text-tertiary">
        {% if project.platform and project.platform %}
          {{ project.platform }}
        {% endif %}
      </span>
      <a href="/projects/{{ project.id }}" class="btn-link text-sm">
        了解更多
      </a>
    </div>
  </div>
</article>
